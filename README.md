# 1. Цель проекта

Цель проекта — разработать систему составления расписания для университетов/школ и т.д. Чтобы не нужно было пользоваться экселем и были интеграции с чатботами

# 2. Описание системы

Система состоит из следующих основных функциональных блоков:

1. Регистрация
2. Авторизация
3. Функционал для администратора
4. Функционал для преподавателя
5. Функционал для студента
6. Функционал интеграции Telegram
7. Функционал интеграции Вконтакте
8. Уведомления об изменении расписания
9. Описание таблицы с расписанием
10. Функционал интеграции с экселем (после MVP)
11. Функционал интеграции с календарями Google и Microsoft (после MVP)
12. Система чата (после MVP)
13. Система стриминга видео и аудио (после MVP)
14. Запись занятий автоматически загружается в систему и на ютуб канал университета (после MVP)

А также имеет следующие типы пользователей:

1. Системный администратор - Назначает/удаляет/администрирует пользователей
2. Администратор - Редактирует/создаёт расписание
3. Преподаватель - Смиотрит список групп, время и предмет, в котором он числится как преподаватель
4. Студент - смотрит список занятий для той группы, в которой он числится как студент
5. Староста - управляет студенческой группой

## 2.1 Регистрация

Пользователя встречает экран для регистрации, где он выбирает свою будущую роль:
1. Администратор
2. Пользтватель

**Администратор** может зарегестрироваться либо по реферальной ссылке, либо самостоятельно. В первом случае, просто в таблице с пользователями университета-владельца реферальной ссылке добавляется новая запись с правами администратора, во втором - пользователя перенаправляет на "Экран регистрации нового пользователя", а затем его перенаправляет на экран создания нового университета.

**Пользователь** может только зарегистрироваться по реферальной ссылке университета. После ввода реферальной ссылки/кода, его перенаправляет на "Экран регистрации нового пользователя".

### 2.1.1 Экран регистрации нового пользователя

Вне зависимости от роли нового пользователя, его будет приветствовать экран создания новго пользователя со следующими полями:

1. Логин
2. Электронная почта
3. Пароль
4. Подтверждение пароля

## 2.2 Авторизация

На экране авторизации пользователь видит два поля:

1. Логин/почта
2. Пароль

После авторизации пользователя перенаправляет на главный экран.

В случае, если пользователь существует в нескольких проектах/универсистетах, после авторизации ему предлагается выбрать, в какой проект он желает войти.


## 2.3.1 Функционал для системного администратора

При входе в систему, системного администратора приветствует его главный экран, где находится список университетов, а так же подсписок проектов, в которых этот пользователь числится как системный администратор.

Так же на его экране будет вкладка с пользователями, отсортированными по проектам и соответствующими кнопками взаимодействия с ними: удалить, обновить, перенести на другой проект, поменять роль и т.д

Помимо всего прочего, у него будет вкладка с логами: какой пользователь какое действие совершил в каком проекте

## 2.3.2 Функционал для администратора

При входе в систему, системного администратора приветствует его главный экран, где находится список университетов, а так же подсписок проектов, в которых этот пользователь числится как администратор.

При нажатии на какой либо из проектов, перед пользователем предстаёт таблица с расписанием. При клике на ячейку у администратора появляется возможность изменить её содержание, назначить на неё группу, конкретного студента или преподавателя

## 2.4 Функционал для преподавателя

При входе в систему, системного администратора приветствует его главный экран, где находится список университетов, а так же подсписок проектов, в которых этот пользователь числится как преподаватель.

При нажатии на какой либо из проектов, перед пользователем предстаёт таблица с расписанием. При клике на ячейку у преподавателя появляется возможность отменить встречу/пару и написать домашее задание для группы или конкретного студента. В случае отмены, администратор оповещается по почте, а также в телеграм и вконтакте ботах.

Так же, при клике на ячейку, у преподавателя есть возможность отметить присутствующих студентов.

## 2.5.1 Функционал для студента

При входе в систему, системного администратора приветствует его главный экран, где находится список университетов, а так же подсписок проектов, в которых этот пользователь числится как студент.

При нажатии на какой либо из проектов, перед пользователем предстаёт таблица с расписанием. При клике на ячейку у студента появляется возможность посмотреть домашнее задание или написать самому домашнее задание, так же у него есть возможность отметиться присутствующим на занятии, если ему разрешил староста

При написании домашнего задания у студента появляется возможность написать либо для себя, либо для всей группы.

При просмотре домашнего задания можно задать фильтры: показывать только мои записи, показывать только записи старосты, показывать только записи группы, показывать только записи преподавателя. Эти фильтры можно комбинировать

Так же у студента есть вкладка с группой, где находится список всех его одногруппников.

## 2.5.2 Фунционал для старосты

Староста является наследником роли студента. Помимо всего функционала студента, у старосты так же присутствует следующий функционал.

При входе в систему, системного администратора приветствует его главный экран, где находится список университетов, а так же подсписок проектов, в которых этот пользователь числится как староста.

При нажатии на какой либо из проектов, перед пользователем предстаёт таблица с расписанием. При клике на ячейку, у старосты появляется возможность отметить студентов как присутствующих, а так же добавить домашнее задание.

Во вкладке группы, у старосты есть возможность дать студенту право отмечаться самому или назначить новую старосту. Староста, назначенный старостой новых старост назначать не может.

## 2.6 Интеграция с Telegram

Каждый пользователь Telegram можнет зарегистрироваться в боте и получать уведомления о начале пар, а так же смотреть расписание в телеграме, как сейчас работает мой бот с расписанием для вк

## 2.7 Интеграция с Вконтакте

Каждый пользователь Вконтакте можнет зарегистрироваться в боте и получать уведомления о начале пар, а так же смотреть расписание в телеграме, как сейчас работает мой бот с расписанием для вк

## 2.8 Уведомления об изменении расписания


Всякий раз, когда администратор меняет расписание в каком-то проекте, всем пользователям, числимся в этом расписании, присылается уведомление на почту, а также во контакте/телеграм боты о том, что расписание изменилось и конкретные изменения




## 2.9 Таблица с расписанием

Таблица состоит из 7 дней недели: понедельник-воскресенье. Они расположены горизонтально, а вниз спускаются ячейки с парами. Пар во всех днях недели всегда одно и то же число для конкретного проекта. Например:

https://sun9-78.userapi.com/impg/PgogbQXKpfnLfyJO0tEgiu-BiExgytUIECz1QQ/Dy289E90G50.jpg?size=1021x414&quality=96&sign=62751162a372450b7629c5179a3f433d&type=album

https://www.figma.com/file/ZAU9gO7GHlmCKTMTlJRpxh/Untitled?node-id=0%3A1

Все ячейки по размеру равняются на самую большую. Все ячейки кликабельны. Функционал на клик определяется ролью пользователя

Количество линий определяется в настройках проекта
Количество недель тоже определяется в настройках проекта. Недели меняются циклично (для тех проектов, у которых расписание составляется на две недели)

# 3. Предлагаемый стек технологий

Для реализации системы предлагается следующий стек технологий:

* Бэкенд:
    - Язык Python
    - Фреймворк FastAPI
    - БД PostgreSQL
    - SQLAlchemy ORM
    - Alembic для миграций
    - Aiogram для интеграции с Telegram
* Фронтенд:
    - React
    - TypeScript

# 4. Требования к дизайну

Минимализм, акцент на лаконичность
